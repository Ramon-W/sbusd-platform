{% extends "layout.html" %}

{% set page = "adminLog" %}

{% block title %}Administrator Logs{% endblock %}

{% block content %}
<div class="back">
  <div class="logBox">
    <table class="toprow"> <!-- The "heading" of the admin logs -->
      <tr>
        <td class="headCol1"><b>Admin Logs<br></b><i>*Renders last 1000 actions</i></td> 
        <td class="headCol2"><input type="text" id="myInputLogs" onkeyup="myFunction()" placeholder="Search"></td>
      </tr>
    </table>
    <div class="logScroll">
      <table class="logContent" id="targetSearchLogs"> <!-- The content of the admin logs -->
        {{ log }}
      </table>
    </div>
  </div>
  <div class="adminInfoBox"> <!-- Inserts information about admins, accounts, etc. -->
    <p><b>Your Account:</b><br>Username: {{ username }}<br>Email: {{ email }}<br>Receive emails when users post: {{ opt }}<br>Receive emails when users comment: {{ optComment }}<br><br>
      <b>Change Account:</b><br>Receive emails when users post: {{ receive }}<br>Receive emails when users comment: {{ receiveComment }}<br>Change email: {{ change }}<br><br>
      <b>Admin List:</b><br><br>{{ admins }}<br><b>Add Admin (type Github username):</b> {{ add }}
    </p>
  </div>
</div>
<script> <!-- Search bar -->
function myFunction() {
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("myInputLogs");
  filter = input.value.toUpperCase();
  table = document.getElementById("targetSearchLogs");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      txtValue = td.textContent || td.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>
{% endblock %}
